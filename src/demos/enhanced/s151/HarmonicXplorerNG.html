<!DOCTYPE html>
<html lang="en" translate="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google" content="notranslate">
    <title>HarmonicXplorer NG</title>
    <style>
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden;
            background: #000;
            color: #fff;
            font-family: Arial, sans-serif;
        }
        
        .container {
            display: flex;
            flex-direction: column;
            height: 100vh;
        }
        
        .controls {
            background: #1a1a1a;
            padding: 10px;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            align-items: center;
        }
        
        .visualization {
            flex: 1;
            position: relative;
        }
        
        canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        
        .debug-panel {
            position: fixed;
            top: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.8);
            padding: 10px;
            border-radius: 5px;
            font-family: monospace;
            font-size: 12px;
            pointer-events: none;
            transition: opacity 0.3s;
        }
        
        .metrics-panel {
            position: fixed;
            bottom: 10px;
            left: 10px;
            background: rgba(0, 0, 0, 0.8);
            padding: 10px;
            border-radius: 5px;
            font-family: monospace;
            font-size: 12px;
        }
        
        button {
            background: #333;
            color: #fff;
            border: 1px solid #555;
            padding: 5px 10px;
            border-radius: 3px;
            cursor: pointer;
        }
        
        button:hover {
            background: #444;
        }
        
        input[type="number"],
        input[type="range"],
        select {
            background: #333;
            color: #fff;
            border: 1px solid #555;
            padding: 3px;
            border-radius: 3px;
        }
        
        .control-group {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .control-group label {
            min-width: 80px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="controls">
            <div class="control-group">
                <button id="startBtn">Start</button>
                <button id="resetBtn">Reset</button>
            </div>
            
            <div class="control-group">
                <label>Harmonics:</label>
                <input type="number" id="harmonicCount" value="8" min="1" max="32">
                <select id="harmonicType">
                    <option value="natural">Natural</option>
                    <option value="octave">Octave</option>
                    <option value="odd">Odd</option>
                    <option value="even">Even</option>
                    <option value="prime">Prime</option>
                    <option value="fibonacci">Fibonacci</option>
                </select>
            </div>
            
            <div class="control-group">
                <label>Frequency:</label>
                <input type="number" id="frequency" value="440" min="20" max="2000">
                <input type="range" id="frequencySlider" min="20" max="2000" value="440">
            </div>
            
            <div class="control-group">
                <label>Rotation:</label>
                <input type="number" id="rotation" value="0" step="0.1" min="-6.28" max="6.28">
                <input type="range" id="rotationSlider" min="-628" max="628" value="0">
            </div>
            
            <div class="control-group">
                <label>Speed:</label>
                <input type="number" id="speed" value="0" step="0.1" min="-2" max="2">
                <input type="range" id="speedSlider" min="-200" max="200" value="0">
            </div>
            
            <div class="control-group">
                <button id="audioBtn">Audio</button>
                <button id="waveformBtn">Waveform</button>
                <button id="geometryBtn">Geometry</button>
            </div>
        </div>
        
        <div class="visualization">
            <canvas id="mainCanvas"></canvas>
            <canvas id="waveformCanvas"></canvas>
            <canvas id="geometryCanvas"></canvas>
        </div>
    </div>
    
    <div id="debugPanel" class="debug-panel">
        Initializing...
    </div>
    
    <div id="metricsPanel" class="metrics-panel">
        Loading metrics...
    </div>
    
    <!-- Load EventGear first -->
    <script src="EventGear.js"></script>
    
    <!-- Load our enhanced implementation -->
    <script src="HarmonicXplorerNG.js"></script>
</body>
</html> 